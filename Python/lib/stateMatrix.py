import numpy as np

def stateMatrix(params, refSig):

    g = 9.81

    m = params['mass']
    Ixx = params['Ixx']
    Iyy = params['Iyy']
    Izz = params['Izz']
    psi = refSig[3]

    A = np.array([
        [0, 0, 0, 1, 0, 0,              0,              0, 0, 0, 0, 0],
        [0, 0, 0, 0, 1, 0,              0,              0, 0, 0, 0 ,0],
        [0, 0, 0, 0, 0, 1,              0,              0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, -g*np.sin(psi), -g*np.cos(psi), 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0,  g*np.cos(psi), -g*np.sin(psi), 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0,              0,              0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0,              0,              0, 0, 1, 0, 0],
        [0, 0, 0, 0, 0, 0,              0,              0, 0, 0, 1, 0],
        [0, 0, 0, 0, 0, 0,              0,              0, 0, 0, 0, 1],
        [0, 0, 0, 0, 0, 0,              0,              0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0,              0,              0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0,              0,              0, 0, 0, 0, 0]
    ])

    B = np.array([
        [   0,     0,     0,     0],
        [   0,     0,     0,     0],
        [   0,     0,     0,     0],
        [   0,     0,     0,     0],
        [   0,     0,     0,     0],
        [-1/m,     0,     0,     0],
        [   0,     0,     0,     0],
        [   0,     0,     0,     0],
        [   0,     0,     0,     0],
        [   0, 1/Ixx,     0,     0],
        [   0,     0, 1/Iyy,     0],
        [   0,     0,     0, 1/Izz]
    ])

    return A, B